import{_ as a,o as s,c as e,e as n}from"./app-b3c70cc1.js";const l={},t=n(`<h1 id="seldom-cli" tabindex="-1"><a class="header-anchor" href="#seldom-cli" aria-hidden="true">#</a> seldom CLI</h1><p><code>seldom 2.10.7</code> 对命令行工具做了增强，可以使用命令行的方式运行用例。</p><h2 id="seldom-帮助" tabindex="-1"><a class="header-anchor" href="#seldom-帮助" aria-hidden="true">#</a> seldom 帮助</h2><ul><li><code>seldom --help</code> 查看帮助使用</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> seldom <span class="token parameter variable">--help</span>
Usage: seldom <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span>

  seldom CLI.

Options:
  <span class="token parameter variable">--version</span>                       Show version.
  -P, <span class="token parameter variable">--project</span> TEXT              Create an Seldom automation <span class="token builtin class-name">test</span> project.
  -cc, --clear-cache BOOLEAN      Clear all caches of seldom.
  -p, <span class="token parameter variable">--path</span> TEXT                 Run <span class="token builtin class-name">test</span> <span class="token keyword">case</span> <span class="token function">file</span> path.
  -c, <span class="token parameter variable">--collect</span> BOOLEAN           Collect project <span class="token builtin class-name">test</span> cases. Need the
                                  <span class="token variable"><span class="token variable">\`</span><span class="token parameter variable">--path</span><span class="token variable">\`</span></span><span class="token builtin class-name">.</span>
  -l, <span class="token parameter variable">--level</span> <span class="token punctuation">[</span>data<span class="token operator">|</span>method<span class="token punctuation">]</span>       Parse the level of use cases. Need the
                                  --path.
  -j, --case-json TEXT            Test <span class="token keyword">case</span> files. Need the <span class="token variable"><span class="token variable">\`</span><span class="token parameter variable">--path</span><span class="token variable">\`</span></span><span class="token builtin class-name">.</span>
  -e, <span class="token parameter variable">--env</span> TEXT                  Set the Seldom run environment <span class="token variable"><span class="token variable">\`</span>Seldom.env<span class="token variable">\`</span></span><span class="token builtin class-name">.</span>
  -b, <span class="token parameter variable">--browser</span> <span class="token punctuation">[</span>chrome<span class="token operator">|</span>firefox<span class="token operator">|</span>ie<span class="token operator">|</span>edge<span class="token operator">|</span>safari<span class="token punctuation">]</span>
                                  The browser that runs the Web UI automation
                                  tests. Need the <span class="token variable"><span class="token variable">\`</span><span class="token parameter variable">--path</span><span class="token variable">\`</span></span><span class="token builtin class-name">.</span>
  -u, --base-url TEXT             The base-url that runs the HTTP automation
                                  tests. Need the <span class="token variable"><span class="token variable">\`</span><span class="token parameter variable">--path</span><span class="token variable">\`</span></span><span class="token builtin class-name">.</span>
  -d, <span class="token parameter variable">--debug</span> BOOLEAN             Debug mode. Need the <span class="token variable"><span class="token variable">\`</span><span class="token parameter variable">--path</span><span class="token variable">\`</span></span><span class="token builtin class-name">.</span>
  -rr, <span class="token parameter variable">--rerun</span> INTEGER            The number of <span class="token builtin class-name">times</span> a use <span class="token keyword">case</span> failed to run
                                  again. Need the <span class="token variable"><span class="token variable">\`</span><span class="token parameter variable">--path</span><span class="token variable">\`</span></span><span class="token builtin class-name">.</span>
  -r, <span class="token parameter variable">--report</span> TEXT               Set the <span class="token builtin class-name">test</span> report <span class="token keyword">for</span> output. Need the
                                  <span class="token variable"><span class="token variable">\`</span><span class="token parameter variable">--path</span><span class="token variable">\`</span></span><span class="token builtin class-name">.</span>
  -m, <span class="token parameter variable">--mod</span> TEXT                  Run tests modules, classes or even
                                  individual <span class="token builtin class-name">test</span> methods from the <span class="token builtin class-name">command</span>
                                  line.
  -ll, --log-level <span class="token punctuation">[</span>TRACE<span class="token operator">|</span>DEBUG<span class="token operator">|</span>INFO<span class="token operator">|</span>SUCCESS<span class="token operator">|</span>WARNING<span class="token operator">|</span>ERROR<span class="token punctuation">]</span>
                                  Set the log level.
  -h2c, <span class="token parameter variable">--har2case</span> TEXT           HAR <span class="token function">file</span> converts an interface <span class="token builtin class-name">test</span> case.
  <span class="token parameter variable">--help</span>                          Show this message and exit.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果无法使用<code>seldom</code> 命令。</p><ol><li>请确保你已经安装了seldom</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> pip <span class="token function">install</span> seldom
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>如果仍然无法使用<code>seldom</code>命令，请用<code>where</code>检查安装位置。</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> where seldom
C:<span class="token punctuation">\\</span>Python311<span class="token punctuation">\\</span>Scripts<span class="token punctuation">\\</span>seldom.exe
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="seldom-使用" tabindex="-1"><a class="header-anchor" href="#seldom-使用" aria-hidden="true">#</a> seldom 使用</h2><h3 id="创建项目" tabindex="-1"><a class="header-anchor" href="#创建项目" aria-hidden="true">#</a> 创建项目</h3><ul><li><code>-P/--project</code></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> seldom <span class="token parameter variable">-P</span> mypro
<span class="token number">2022</span>-09-03 <span class="token number">11</span>:22:25 cli.py <span class="token operator">|</span> INFO <span class="token operator">|</span> Start to create new <span class="token builtin class-name">test</span> project: mypro
<span class="token number">2022</span>-09-03 <span class="token number">11</span>:22:25 cli.py <span class="token operator">|</span> INFO <span class="token operator">|</span> CWD: D:<span class="token punctuation">\\</span>github<span class="token punctuation">\\</span>seldom

<span class="token number">2022</span>-09-03 <span class="token number">11</span>:22:25 cli.py <span class="token operator">|</span> INFO <span class="token operator">|</span> created folder: mypro
<span class="token number">2022</span>-09-03 <span class="token number">11</span>:22:25 cli.py <span class="token operator">|</span> INFO <span class="token operator">|</span> created folder: mypro<span class="token punctuation">\\</span>test_dir
<span class="token number">2022</span>-09-03 <span class="token number">11</span>:22:25 cli.py <span class="token operator">|</span> INFO <span class="token operator">|</span> created folder: mypro<span class="token punctuation">\\</span>reports
<span class="token number">2022</span>-09-03 <span class="token number">11</span>:22:25 cli.py <span class="token operator">|</span> INFO <span class="token operator">|</span> created folder: mypro<span class="token punctuation">\\</span>test_data
<span class="token number">2022</span>-09-03 <span class="token number">11</span>:22:25 cli.py <span class="token operator">|</span> INFO <span class="token operator">|</span> created file: mypro<span class="token punctuation">\\</span>test_data<span class="token punctuation">\\</span>data.json
<span class="token number">2022</span>-09-03 <span class="token number">11</span>:22:25 cli.py <span class="token operator">|</span> INFO <span class="token operator">|</span> created file: mypro<span class="token punctuation">\\</span>test_dir<span class="token punctuation">\\</span>test_web_sample.py
<span class="token number">2022</span>-09-03 <span class="token number">11</span>:22:25 cli.py <span class="token operator">|</span> INFO <span class="token operator">|</span> created file: mypro<span class="token punctuation">\\</span>test_dir<span class="token punctuation">\\</span>test_api_sample.py
<span class="token number">2022</span>-09-03 <span class="token number">11</span>:22:25 cli.py <span class="token operator">|</span> INFO <span class="token operator">|</span> created file: mypro<span class="token punctuation">\\</span>run.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="生成接口自动化用例" tabindex="-1"><a class="header-anchor" href="#生成接口自动化用例" aria-hidden="true">#</a> 生成接口自动化用例</h3><ul><li><code>-h2c/--har2case</code></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> seldom <span class="token parameter variable">-h2c</span> demo.har
<span class="token number">2022</span>-09-03 <span class="token number">11</span>:29:29 core.py <span class="token operator">|</span> INFO <span class="token operator">|</span> demo.py
<span class="token number">2022</span>-09-03 <span class="token number">11</span>:29:29 core.py <span class="token operator">|</span> INFO <span class="token operator">|</span> Start to generate testcase.
<span class="token number">2022</span>-09-03 <span class="token number">11</span>:29:29 core.py <span class="token operator">|</span> INFO <span class="token operator">|</span> created file: D:<span class="token punctuation">\\</span>github<span class="token punctuation">\\</span>seldom<span class="token punctuation">\\</span>seldom<span class="token punctuation">\\</span>har2case<span class="token punctuation">\\</span>demo.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注：<code>har</code> 是fiddler 抓包工具导出的一种格式，即 <code>HTTPArchive</code>。</p><h3 id="运行测试目录-文件" tabindex="-1"><a class="header-anchor" href="#运行测试目录-文件" aria-hidden="true">#</a> 运行测试目录&amp;文件</h3><ul><li><code>-p\\--path</code></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> seldom <span class="token parameter variable">-p</span> ./test_dir/                     <span class="token comment"># 指定运行目录</span>
<span class="token operator">&gt;</span> seldom <span class="token parameter variable">-p</span> ./test_dir/test_first_demo.py   <span class="token comment"># 指定运行文件</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>不支持斜杠<code>\\</code>表示路径</p><h3 id="运行文件-类-方法" tabindex="-1"><a class="header-anchor" href="#运行文件-类-方法" aria-hidden="true">#</a> 运行文件&amp;类&amp;方法</h3><ul><li><code>-m\\--mod</code></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> seldom <span class="token parameter variable">-m</span> test_first_demo            <span class="token comment"># 文件名，不要.py后缀</span>
<span class="token operator">&gt;</span> seldom <span class="token parameter variable">-m</span> test_first_demo.BingTest   <span class="token comment"># 文件名.类名</span>
<span class="token operator">&gt;</span> seldom <span class="token parameter variable">-m</span> test_first_demo.BingTest.test_case  <span class="token comment"># 文件名.类名.方法名</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="调试模式" tabindex="-1"><a class="header-anchor" href="#调试模式" aria-hidden="true">#</a> 调试模式</h3><ul><li><code> -d, --debug/ -nd, --no-debug</code></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> seldom <span class="token parameter variable">-p</span> test_first_demo.py <span class="token parameter variable">-d</span>   <span class="token comment"># 开启debug模式</span>
<span class="token operator">&gt;</span> seldom <span class="token parameter variable">-p</span> test_first_demo.py <span class="token parameter variable">-nd</span>   <span class="token comment"># 关闭debug模式</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="运行浏览器" tabindex="-1"><a class="header-anchor" href="#运行浏览器" aria-hidden="true">#</a> 运行浏览器</h3><ul><li><code>-b/--browser</code></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> seldom <span class="token parameter variable">-p</span> test_first_demo.py <span class="token parameter variable">-b</span> firefox  <span class="token comment"># firefox浏览器</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>支持<code>[chrome|firefox|ie|edge]</code> 浏览器。</p></blockquote><h3 id="运行url" tabindex="-1"><a class="header-anchor" href="#运行url" aria-hidden="true">#</a> 运行URL</h3><ul><li><code>-u/--base-url</code></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> seldom <span class="token parameter variable">-p</span> test_http_demo.py <span class="token parameter variable">-u</span> http://httpbin.org  <span class="token comment"># base-url</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="测试报告" tabindex="-1"><a class="header-anchor" href="#测试报告" aria-hidden="true">#</a> 测试报告</h3><ul><li><code>-r/--report</code></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> seldom <span class="token parameter variable">-p</span> test_first_demo.py <span class="token parameter variable">-r</span> result.html  <span class="token comment"># HTML报告</span>
<span class="token operator">&gt;</span> seldom <span class="token parameter variable">-p</span> test_first_demo.py <span class="token parameter variable">-r</span> result.xml  <span class="token comment"># XML报告</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="失败-错误重跑次数" tabindex="-1"><a class="header-anchor" href="#失败-错误重跑次数" aria-hidden="true">#</a> 失败/错误重跑次数</h3><ul><li><code>-rr/--rerun</code></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> seldom <span class="token parameter variable">-p</span> test_first_demo.py <span class="token parameter variable">-rr</span> <span class="token number">2</span>  <span class="token comment"># rerun重跑次数</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="数据驱动运行环境" tabindex="-1"><a class="header-anchor" href="#数据驱动运行环境" aria-hidden="true">#</a> 数据驱动运行环境</h3><ul><li><code>-e/--env</code></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> seldom <span class="token parameter variable">-p</span> test_ddt_demo.py <span class="token parameter variable">-e</span> production  <span class="token comment"># 运行环境</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>注：参考<code>数据驱动</code> 一章 <code>Seldom.env</code> 的用法。</p></blockquote><h3 id="收集测试用例" tabindex="-1"><a class="header-anchor" href="#收集测试用例" aria-hidden="true">#</a> 收集测试用例</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> seldom <span class="token parameter variable">-p</span> test_dir <span class="token parameter variable">-c</span> <span class="token parameter variable">-l</span> method <span class="token parameter variable">-j</span> case.json
Collect use cases <span class="token keyword">for</span> the test_dir directory.
<span class="token function">add</span> <span class="token function">env</span> Path: <span class="token builtin class-name">.</span>

              __    __
   ________  / /___/ /___  ____ ____
  / ___/ _ <span class="token punctuation">\\</span>/ / __  / __ <span class="token punctuation">\\</span>/ __ \` ___/
 <span class="token punctuation">(</span>__  <span class="token punctuation">)</span>  __/ / /_/ / /_/ / / / / / /
/____/<span class="token punctuation">\\</span>___/_/<span class="token punctuation">\\</span>__,_/<span class="token punctuation">\\</span>____/_/ /_/ /_/  v<span class="token punctuation">{</span>x<span class="token punctuation">}</span>.<span class="token punctuation">{</span>x<span class="token punctuation">}</span>.<span class="token punctuation">{</span>x<span class="token punctuation">}</span>
-----------------------------------------
                             @itest.info

save them to D:<span class="token punctuation">\\</span>github<span class="token punctuation">\\</span>seldom<span class="token punctuation">\\</span>demo<span class="token punctuation">\\</span>case.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>说明： <ul><li><code>-p/--path</code>: 指定收集用例的目录：<code>test_dir</code>。</li><li><code>-c, --collect / -nc, --no-collect</code>: 是否收集用例, 默认<code>false</code>。</li><li><code>-l/--level</code>: 是否收集用例级别: <code>data/method</code>。</li><li><code>-j/--case-json</code>: 收集用例保存文件: <code>case.json</code>。</li></ul></li></ul><h3 id="运行收集测试用例" tabindex="-1"><a class="header-anchor" href="#运行收集测试用例" aria-hidden="true">#</a> 运行收集测试用例</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> seldom <span class="token parameter variable">-p</span> test_dir <span class="token parameter variable">-j</span> case.json <span class="token parameter variable">-r</span> result.html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>说明： <ul><li><code>-p/--path</code>: 指定运行用例的根目录：<code>test_dir</code>。</li><li><code>-j/--case-json</code>: 运行收集用例文件: <code>case.json</code>。</li><li><code>-r/--report</code>: 运行收集用例生成报告: <code>result.html</code>。</li></ul></li></ul><h3 id="清除所有缓存" tabindex="-1"><a class="header-anchor" href="#清除所有缓存" aria-hidden="true">#</a> 清除所有缓存</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">&gt;</span> seldom --clear-cache <span class="token boolean">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>说明：默认清空seldom所有缓存，即<code>cache.clear()</code></li></ul>`,54),p=[t];function o(r,i){return s(),e("div",null,p)}const d=a(l,[["render",o],["__file","seldom_cli.html.vue"]]);export{d as default};
