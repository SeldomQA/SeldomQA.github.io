import{_ as s,e as a,f as p,o as t}from"./app-cOqhPLWY.js";const e={};function i(l,n){return t(),a("div",null,n[0]||(n[0]=[p(`<h1 id="appium-api" tabindex="-1"><a class="header-anchor" href="#appium-api"><span>appium API</span></a></h1><p>appium API继承 selenium API，所以，操作方法是通用的。在seldom 中，请参考web UI 中的seldom API。</p><h2 id="appium-定位" tabindex="-1"><a class="header-anchor" href="#appium-定位"><span>appium 定位</span></a></h2><ul><li>支持定位类型</li></ul><p>seldom 支持定位如下，包括selenium/appium。</p><table><thead><tr><th>类型</th><th>定位</th><th>**kwargs</th></tr></thead><tbody><tr><td>selenium/appium</td><td>id</td><td>id_=&quot;id&quot;</td></tr><tr><td>selenium</td><td>mame</td><td>name=&quot;name&quot;</td></tr><tr><td>selenium/appium</td><td>class</td><td>class_name=&quot;class&quot;</td></tr><tr><td>selenium</td><td>tag</td><td>tag=&quot;input&quot;</td></tr><tr><td>selenium</td><td>link_text</td><td>link_text=&quot;文字链接&quot;</td></tr><tr><td>selenium</td><td>partial_link_text</td><td>partial_link_text=&quot;文字链&quot;</td></tr><tr><td>selenium/appium</td><td>xpath</td><td>xpath=&quot;//*[@id=&#39;11&#39;]&quot;</td></tr><tr><td>selenium</td><td>css</td><td>cass=&quot;input#id&quot;</td></tr><tr><td>appium</td><td>ios_uiautomation</td><td>ios_uiautomation = &quot;xx&quot;</td></tr><tr><td>appium</td><td>ios_predicate</td><td>ios_predicate = &quot;xx&quot;</td></tr><tr><td>appium</td><td>ios_class_chain</td><td>ios_class_chain = &quot;xx&quot;</td></tr><tr><td>appium</td><td>android_uiautomator</td><td>android_uiautomator = &quot;xx&quot;</td></tr><tr><td>appium</td><td>android_viewtag</td><td>android_viewtag = &quot;xx&quot;</td></tr><tr><td>appium</td><td>android_data_matcher</td><td>android_data_matcher = &quot;xx&quot;</td></tr><tr><td>appium</td><td>android_view_matcher</td><td>android_view_matcher = &quot;xx&quot;</td></tr><tr><td>appium</td><td>windows_uiautomation</td><td>windows_uiautomation = &quot;xx&quot;</td></tr><tr><td>appium</td><td>accessibility_id</td><td>accessibility_id = &quot;xx&quot;</td></tr><tr><td>appium</td><td>image</td><td>image = &quot;xx&quot;</td></tr><tr><td>appium</td><td>custom</td><td>custom = &quot;xx&quot;</td></tr></tbody></table><ul><li>定位用法</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">import</span> seldom</span>
<span class="line"><span class="token keyword">from</span> seldom<span class="token punctuation">.</span>appium_lab<span class="token punctuation">.</span>android <span class="token keyword">import</span> UiAutomator2Options</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">TestBBS</span><span class="token punctuation">(</span>seldom<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">test_bbs</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;定位方法用法&quot;&quot;&quot;</span></span>
<span class="line">        self<span class="token punctuation">.</span>click<span class="token punctuation">(</span>id_<span class="token operator">=</span><span class="token string">&quot;com.meizu.flyme.flymebbs:id/nw&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        self<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">        self<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">(</span>android_uiautomator<span class="token operator">=</span><span class="token string">&#39;new UiSelector().resourceId(&quot;com.meizu.flyme.flymebbs:id/nw&quot;)&#39;</span><span class="token punctuation">,</span> text<span class="token operator">=</span><span class="token string">&quot;flyme&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span></span>
<span class="line">    capabilities <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;automationName&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;UiAutomator2&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;platformName&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Android&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;appPackage&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;com.meizu.flyme.flymebbs&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;appActivity&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;com.meizu.myplus.ui.splash.SplashActivity&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;noReset&quot;</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    options <span class="token operator">=</span> UiAutomator2Options<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>load_capabilities<span class="token punctuation">(</span>capabilities<span class="token punctuation">)</span></span>
<span class="line">    seldom<span class="token punctuation">.</span>main<span class="token punctuation">(</span>app_server<span class="token operator">=</span><span class="token string">&quot;http://127.0.0.1:4723&quot;</span><span class="token punctuation">,</span> app_info<span class="token operator">=</span>options<span class="token punctuation">,</span> debug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="appium-lab" tabindex="-1"><a class="header-anchor" href="#appium-lab"><span>appium lab</span></a></h2><p><code>appium_lab</code> 封装了常用App操作</p><ul><li>基本用法</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">import</span> seldom</span>
<span class="line"><span class="token keyword">from</span> seldom<span class="token punctuation">.</span>appium_lab <span class="token keyword">import</span> AppiumLab</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">TestBBS</span><span class="token punctuation">(</span>seldom<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">start</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token comment"># 导入 AppiumLab</span></span>
<span class="line">        self<span class="token punctuation">.</span>appium_lab <span class="token operator">=</span> AppiumLab<span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">test_bbs</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token comment"># 点击输入框</span></span>
<span class="line">        self<span class="token punctuation">.</span>click<span class="token punctuation">(</span>id_<span class="token operator">=</span><span class="token string">&quot;com.meizu.flyme.flymebbs:id/nw&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        self<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment"># 判断当前虚拟键盘是否显示</span></span>
<span class="line">        keyboard <span class="token operator">=</span> self<span class="token punctuation">.</span>appium_lab<span class="token punctuation">.</span>is_keyboard_shown<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span>keyboard<span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment"># 收起当前键盘</span></span>
<span class="line">        self<span class="token punctuation">.</span>appium_lab<span class="token punctuation">.</span>hide_keyboard<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        self<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>启动appium server</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> seldom<span class="token punctuation">.</span>appium_lab<span class="token punctuation">.</span>appium_service <span class="token keyword">import</span> AppiumService</span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># 启动 Appium Server</span></span>
<span class="line">    app_ser <span class="token operator">=</span> AppiumService<span class="token punctuation">(</span></span>
<span class="line">        addr<span class="token operator">=</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        port<span class="token operator">=</span><span class="token string">&quot;4723&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        use_plugins<span class="token operator">=</span><span class="token string">&quot;images&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        args<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;--allow-cors&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;--tmp&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C:\\Windows\\Temp&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">    app_ser<span class="token punctuation">.</span>start_service<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>参数说明：</p><ul><li><code>addr</code>: appium server 地址, 默认： <code>127.0.0.1</code></li><li><code>port</code>: appium server 端口， 默认：<code>4723</code></li><li><code>log</code>: 设置 appium server 日志， 默认：<code>appium_server_1734493548.log</code></li><li><code>use_plugins</code>: 设置使用的插件，默认None，不使用。</li><li><code>args</code>: 支持添加更多的参数，例如 <code>args=[&quot;--allow-cors&quot;, &quot;--tmp&quot;, &quot;C:\\Windows\\Temp&quot;]</code></li></ul><p>启动日志：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token number">2024</span>-12-18 <span class="token number">11</span>:52:54 <span class="token operator">|</span> INFO     <span class="token operator">|</span> appium_service.py <span class="token operator">|</span> MainThread <span class="token operator">|</span> 🚀 launch appium server: <span class="token punctuation">[</span><span class="token string">&#39;--address&#39;</span>, <span class="token string">&#39;127.0.0.1&#39;</span>, <span class="token string">&#39;--port&#39;</span>, <span class="token string">&#39;4723&#39;</span>, <span class="token string">&#39;--log&#39;</span>, <span class="token string">&#39;D:\\\\github\\\\seldomQA\\\\seldom\\\\seldom\\\\appium_lab\\\\appium_server_1734493974.log&#39;</span>, <span class="token string">&#39;--use-plugins&#39;</span>, <span class="token string">&#39;iamges,ocr&#39;</span>, <span class="token string">&#39;--allow-cors&#39;</span><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>AppiumLab</code> 类中分以下几类操作:</p><p><strong>Action</strong></p><p><code>Action</code>中提供基本滑动/触摸操作。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> seldom<span class="token punctuation">.</span>appium_lab <span class="token keyword">import</span> AppiumLab</span>
<span class="line"></span>
<span class="line">appium_lab <span class="token operator">=</span> AppiumLab<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 触摸坐标位</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>tap<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 上划</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>swipe_up<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 下划</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>swipe_down<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 左划</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>swipe_left<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 右划</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>swipe_right<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 从x坐标滑动到y坐标</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>drag_from_to<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Switch</strong></p><p><code>Switch</code>中提供基本上下文切换操作。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> seldom<span class="token punctuation">.</span>appium_lab <span class="token keyword">import</span> AppiumLab</span>
<span class="line"></span>
<span class="line">appium_lab <span class="token operator">=</span> AppiumLab<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 返回当前上下文</span></span>
<span class="line">context <span class="token operator">=</span> appium_lab<span class="token punctuation">.</span>context<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 切换原生app</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>switch_to_app<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 切换webview</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>switch_to_web<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 切换flutter</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>switch_to_flutter<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 切换OCR</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>switch_to_ocr<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Find</strong></p><p><code>Find</code>中提供基于文本的查找，一个元素可以没有ID、name，但一定有显示的文本，这里提供了一组基于文本的查找。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> seldom<span class="token punctuation">.</span>appium_lab <span class="token keyword">import</span> AppiumLab</span>
<span class="line"></span>
<span class="line">appium_lab <span class="token operator">=</span> AppiumLab<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Android</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>find_view<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token string">&quot;xxx标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>find_view<span class="token punctuation">(</span>content_desc<span class="token operator">=</span><span class="token string">&quot;xxx标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>find_edit_text<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token string">&quot;xxx标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>find_button<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token string">&quot;xxx标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>find_button<span class="token punctuation">(</span>content_desc<span class="token operator">=</span><span class="token string">&quot;xxx标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>find_text_view<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token string">&quot;xxx标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>find_image_view<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token string">&quot;xxx标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>find_check_box<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token string">&quot;xxx标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># iOS</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>find_static_text<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token string">&quot;xxx标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>find_other<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token string">&quot;xxx标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>find_text_field<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token string">&quot;xxx标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>find_image<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token string">&quot;xxx标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>find_ios_button<span class="token punctuation">(</span>text<span class="token operator">=</span><span class="token string">&quot;xxx标题&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>keyboard</strong></p><p><code>keyboard</code>中提供基于键盘的输入和操作。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> seldom<span class="token punctuation">.</span>appium_lab <span class="token keyword">import</span> AppiumLab</span>
<span class="line"></span>
<span class="line">appium_lab <span class="token operator">=</span> AppiumLab<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 基于键盘输入（支持大小写）</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>key_text<span class="token punctuation">(</span><span class="token string">&quot;Hello123&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 手机home键</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>home<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 手机返回键</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>back<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 判断当前虚拟键盘是否显示（True/False）</span></span>
<span class="line">ret <span class="token operator">=</span> appium_lab<span class="token punctuation">.</span>is_keyboard_shown<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 收起虚拟键盘</span></span>
<span class="line">appium_lab<span class="token punctuation">.</span>hide_keyboard<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 返回当前窗口尺寸</span></span>
<span class="line">size <span class="token operator">=</span> appium_lab<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="appium-driver" tabindex="-1"><a class="header-anchor" href="#appium-driver"><span>appium driver</span></a></h2><p><code>AppDriver</code> 封装了App相关的操作。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">import</span> seldom</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">TestApp</span><span class="token punctuation">(</span>seldom<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token triple-quoted-string string">&quot;&quot;&quot;</span>
<span class="line">    Test App</span>
<span class="line">    &quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">test_bbs_search</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;</span>
<span class="line">        appium api</span>
<span class="line">        &quot;&quot;&quot;</span></span>
<span class="line">        <span class="token comment"># app置于后台10s</span></span>
<span class="line">        self<span class="token punctuation">.</span>background_app<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment"># 检查设备上是否安装了应用程序</span></span>
<span class="line">        self<span class="token punctuation">.</span>is_app_installed<span class="token punctuation">(</span><span class="token string">&quot;bundle_id&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment"># 安装app</span></span>
<span class="line">        self<span class="token punctuation">.</span>install_app<span class="token punctuation">(</span><span class="token string">&quot;/app/path/xxx.apk&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment"># 删除app</span></span>
<span class="line">        self<span class="token punctuation">.</span>remove_app<span class="token punctuation">(</span><span class="token string">&quot;app_id&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment"># 如果app正在运行，终止运行</span></span>
<span class="line">        self<span class="token punctuation">.</span>terminate_app<span class="token punctuation">(</span><span class="token string">&quot;app_id&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment"># 如果app未运行，则激活它或者在后台运行</span></span>
<span class="line">        self<span class="token punctuation">.</span>activate_app<span class="token punctuation">(</span><span class="token string">&quot;app_id&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment"># 查询app 状态</span></span>
<span class="line">        state <span class="token operator">=</span> self<span class="token punctuation">.</span>query_app_state<span class="token punctuation">(</span><span class="token string">&quot;app_id&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment"># 从指定的设备返回应用程序字符串语言</span></span>
<span class="line">        language<span class="token punctuation">,</span> string <span class="token operator">=</span> self<span class="token punctuation">.</span>app_strings<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span>language<span class="token punctuation">,</span> string<span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment"># 点击图片</span></span>
<span class="line">        self<span class="token punctuation">.</span>click_image<span class="token punctuation">(</span><span class="token string">&quot;/you/path/xxx.png&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>目前 seldom 集成的 appium API 并不完整，在使用过程中如有问题，欢迎提 <a href="https://github.com/SeldomQA/seldom/issues" target="_blank" rel="noopener noreferrer">issues</a>。</p></blockquote>`,35)]))}const c=s(e,[["render",i],["__file","appium_lab.html.vue"]]),u=JSON.parse('{"path":"/app-testing/appium_lab.html","title":"appium API","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"appium 定位","slug":"appium-定位","link":"#appium-定位","children":[]},{"level":2,"title":"appium lab","slug":"appium-lab","link":"#appium-lab","children":[]},{"level":2,"title":"appium driver","slug":"appium-driver","link":"#appium-driver","children":[]}],"git":{"updatedTime":1734494711000,"contributors":[{"name":"defnngj","username":"defnngj","email":"defnngj@gmail.com","commits":7,"url":"https://github.com/defnngj"},{"name":"fnngj","username":"fnngj","email":"fnngj@126.com","commits":1,"url":"https://github.com/fnngj"}],"changelog":[{"hash":"1ae246de7687c2fb64820b1557f00fdc188c6374","time":1734494711000,"email":"defnngj@gmail.com","author":"defnngj","message":"📝 update app doc."},{"hash":"8cfd81ad76b6cfd2b7efd0362467a291699f8aba","time":1725890482000,"email":"defnngj@gmail.com","author":"defnngj","message":"📝️ update docs"},{"hash":"b870530a1d4ead22f53031043050331c23b720bd","time":1717247428000,"email":"defnngj@gmail.com","author":"defnngj","message":"📝️ update appium_lab doc."},{"hash":"ab7ef5eca132a64fa62c46a56b80afc024375388","time":1704214137000,"email":"defnngj@gmail.com","author":"defnngj","message":"📝️  appium 2.x doc"},{"hash":"e48c2aab8b2c65e89613c13a62c24270ee0ec767","time":1681726778000,"email":"fnngj@126.com","author":"fnngj","message":"📝️ appium find element doc"},{"hash":"32eb8a015671103364c9c7f9c119750343e97d7b","time":1678808578000,"email":"defnngj@gmail.com","author":"defnngj","message":"📝️  Function update doc"},{"hash":"9e1a146a15aed812a1e4fa5a4e195733d76ae8ea","time":1667322855000,"email":"defnngj@gmail.com","author":"defnngj","message":"📝️ update doc(support seldom 3.0)"},{"hash":"8b4ffee3b1eb16b82011dcb7aa69eca700b291a6","time":1664795203000,"email":"defnngj@gmail.com","author":"defnngj","message":"📝️ app doc"}]},"filePathRelative":"app-testing/appium_lab.md"}');export{c as comp,u as data};
