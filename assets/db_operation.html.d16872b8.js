import{_ as e,r as o,o as l,c,a as n,b as t,F as u,e as p,d as s}from"./app.2e38da81.js";const i={},r=p(`<h1 id="\u6570\u636E\u5E93\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5E93\u64CD\u4F5C" aria-hidden="true">#</a> \u6570\u636E\u5E93\u64CD\u4F5C</h1><p>seldom \u652F\u6301sqlite3\u3001MySQL\u3001MongoDB\u6570\u636E\u5E93\u64CD\u4F5C\u3002</p><table><thead><tr><th>sqlite3</th><th>MySQL</th></tr></thead><tbody><tr><td>execute_sql()</td><td>execute_sql()</td></tr><tr><td>query_sql()</td><td>query_sql()</td></tr><tr><td>query_one()</td><td>query_one()</td></tr><tr><td>delete()</td><td>delete()</td></tr><tr><td>insert()</td><td>insert()</td></tr><tr><td>select()</td><td>select()</td></tr><tr><td>update()</td><td>update()</td></tr><tr><td>init_table()</td><td>init_table()</td></tr><tr><td>close()</td><td>close()</td></tr></tbody></table><h3 id="\u8FDE\u63A5\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#\u8FDE\u63A5\u6570\u636E\u5E93" aria-hidden="true">#</a> \u8FDE\u63A5\u6570\u636E\u5E93</h3><p><strong>\u8FDE\u63A5sqlit3\u6570\u636E\u5E93</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> seldom<span class="token punctuation">.</span>db_operation <span class="token keyword">import</span> SQLiteDB

db <span class="token operator">=</span> SQLiteDB<span class="token punctuation">(</span><span class="token string">r&quot;D:\\learnAPI\\db.sqlite3&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>\u8FDE\u63A5MySQL\u6570\u636E\u5E93\uFF08\u9700\u8981\uFF09</strong></p><ol><li>\u5B89\u88C5pymysql\u9A71\u52A8</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token operator">&gt;</span> pip <span class="token function">install</span> pymysql
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>\u94FE\u63A5</li></ol><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> seldom<span class="token punctuation">.</span>db_operation <span class="token keyword">import</span> MySQLDB

db <span class="token operator">=</span> MySQLDB<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> 
             port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span> 
             user<span class="token operator">=</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span> 
             password<span class="token operator">=</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span> 
             database<span class="token operator">=</span><span class="token string">&quot;db_name&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="\u64CD\u4F5C\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u64CD\u4F5C\u65B9\u6CD5" aria-hidden="true">#</a> \u64CD\u4F5C\u65B9\u6CD5</h3><ul><li>execute_sql</li></ul><p>\u6267\u884Csql\u8BED\u53E5\uFF0C\u65E0\u8FD4\u56DE\u7ED3\u679C\u3002</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>db<span class="token punctuation">.</span>execute_sql<span class="token punctuation">(</span><span class="token string">&quot;INSERT INTO user (id, name) VALUES (1, &#39;tom&#39;) &quot;</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span>execute_sql<span class="token punctuation">(</span><span class="token string">&quot;UPDATE user SET name = &#39;jack&#39; WHERE id=1&quot;</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span>execute_sql<span class="token punctuation">(</span><span class="token string">&quot;DELETE FROM user WHERE id = 1&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>query_sql</li></ul><p>\u6267\u884C\u67E5\u8BE2sql\u8BED\u53E5\uFF0C\u8FD4\u56DE\u67E5\u8BE2\u7ED3\u679C\u3002</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>ret <span class="token operator">=</span> db<span class="token punctuation">.</span>query_sql<span class="token punctuation">(</span><span class="token string">&quot;select * from user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>query_one</li></ul><p>\u6267\u884C\u67E5\u8BE2sql\u8BED\u53E5\uFF0C\u8FD4\u56DE\u4E00\u6761\u7ED3\u679C\u3002</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>ret <span class="token operator">=</span> db<span class="token punctuation">.</span>query_one<span class="token punctuation">(</span><span class="token string">&quot;select * from user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>delete</li></ul><p>\u5220\u9664\u8868\u6570\u636E\u3002</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>db<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>table<span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> where<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>insert</li></ul><p>\u63D2\u5165\u4E00\u6761\u6570\u636E\u3002</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;jean&quot;</span><span class="token punctuation">}</span>
db<span class="token punctuation">.</span>insert<span class="token punctuation">(</span>table<span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>select</li></ul><p>\u67E5\u8BE2\u8868\u6570\u636E\u3002</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>result <span class="token operator">=</span> db<span class="token punctuation">.</span>select<span class="token punctuation">(</span>table<span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> where<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;tom&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
result <span class="token operator">=</span> db<span class="token punctuation">.</span>select<span class="token punctuation">(</span>table<span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> one<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span> <span class="token comment"># one=True \u8FD4\u56DE\u4E00\u6761\u7ED3\u679C</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>update</li></ul><p>\u66F4\u65B0\u8868\u6570\u636E\u3002</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>db<span class="token punctuation">.</span>update<span class="token punctuation">(</span>table<span class="token operator">=</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> where<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;jack&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>init_table</li></ul><p>\u6279\u91CF\u63D2\u5165\u6570\u636E\uFF0C\u5728\u63D2\u5165\u4E4B\u524D\u5148\u6E05\u7A7A\u8868\u6570\u636E\u3002</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>
<span class="token comment"># more table data</span>
table_data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;group&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;product&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;develop&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;user&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;jeannie&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;joye&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

<span class="token punctuation">}</span>

db<span class="token punctuation">.</span>init_table<span class="token punctuation">(</span>table_data<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>close</li></ul><p>\u5173\u95ED\u6570\u636E\u5E93\u8FDE\u63A5\u3002</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>db<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="mongodb" tabindex="-1"><a class="header-anchor" href="#mongodb" aria-hidden="true">#</a> MongoDB</h2><p>MongoDB \u662F\u4E00\u4E2A\u57FA\u4E8E\u5206\u5E03\u5F0F\u6587\u4EF6\u5B58\u50A8\u7684\u6570\u636E\u5E93\uFF0C\u5C5E\u4E8E\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93\uFF0C\u4E0E\u5173\u7CFB\u578B\u6570\u636E\u5E93\u5F97\u64CD\u4F5C\u6709\u7740\u8F83\u5927\u5F97\u5DEE\u5F02\uFF0C\u5B83\u672C\u8EAB\u652F\u6301\u5B57\u5178\u4F20\u53C2\uFF0C\u6240\u4EE5\uFF0Cseldom \u53EA\u7B80\u5355\u5C01\u88C5\u4E86\u6570\u636E\u5E93\u8FDE\u63A5\u3002</p><ul><li>\u5B89\u88C5pymongo</li></ul><p>https://github.com/mongodb/mongo-python-driver</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token operator">&gt;</span> pip show pymongo
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u8FDE\u63A5MongoDB</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> seldom<span class="token punctuation">.</span>db_operation<span class="token punctuation">.</span>mongo_db <span class="token keyword">import</span> MongoDB

db <span class="token operator">=</span> MongoDB<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">27017</span><span class="token punctuation">,</span> db<span class="token operator">=</span><span class="token string">&quot;yapi&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>\u53C2\u6570\u8BF4\u660E:</strong></p><ul><li>host: \u8FDE\u63A5\u5730\u5740\u3002</li><li>port: \u7AEF\u53E3\u53F7\u3002</li><li>db: \u6570\u636E\u5E93\u540D\u5B57\u3002</li></ul><p><strong>pymongo</strong></p>`,49),d=s("\u4EE5\u4E0B\u64CD\u4F5Cseldom\u6CA1\u6709\u505A\u4EFB\u4F55\u5C01\u88C5\uFF0C\u8BF7\u53C2\u8003"),k={href:"https://github.com/mongodb/mongo-python-driver",target:"_blank",rel:"noopener noreferrer"},b=s("pymongo"),m=p(`<ul><li>\u83B7\u53D6\u96C6\u5408\u4FE1\u606F</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>col <span class="token operator">=</span> db<span class="token punctuation">.</span>list_collection_names<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u7ED3\u679C\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>collection list:  <span class="token punctuation">[</span><span class="token string">&#39;project&#39;</span>, <span class="token string">&#39;log&#39;</span>, <span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u83B7\u53D6\u8868\u4E00\u6761\u6570\u636E</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data <span class="token operator">=</span> db<span class="token punctuation">.</span>project<span class="token punctuation">.</span>find_one<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;table one data:&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u7ED3\u679C\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>table data: <span class="token punctuation">{</span><span class="token string">&#39;_id&#39;</span><span class="token builtin class-name">:</span> <span class="token number">11</span>, <span class="token string">&#39;switch_notice&#39;</span><span class="token builtin class-name">:</span> True, <span class="token string">&#39;is_mock_open&#39;</span><span class="token builtin class-name">:</span> False, <span class="token string">&#39;strice&#39;</span><span class="token builtin class-name">:</span> False, <span class="token string">&#39;is_json5&#39;</span><span class="token builtin class-name">:</span> False, <span class="token string">&#39;name&#39;</span><span class="token builtin class-name">:</span> <span class="token string">&#39;\u53D1\u5E03\u4F1A\u7B7E\u5230\u7CFB\u7EDF&#39;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,8),g={href:"https://www.runoob.com/python3/python-mongodb-insert-document.html",target:"_blank",rel:"noopener noreferrer"},h=s("\u6DFB\u52A0\u6570\u636E"),q={href:"https://www.runoob.com/python3/python-mongodb-query-document.html",target:"_blank",rel:"noopener noreferrer"},y=s("\u67E5\u8BE2\u6570\u636E"),_={href:"https://www.runoob.com/python3/python-mongodb-update-document.html",target:"_blank",rel:"noopener noreferrer"},v=s("\u4FEE\u6539\u6570\u636E"),x={href:"https://www.runoob.com/python3/python-mongodb-delete-document.html",target:"_blank",rel:"noopener noreferrer"},w=s("\u5220\u9664\u6570\u636E");function f(E,B){const a=o("ExternalLinkIcon");return l(),c(u,null,[r,n("p",null,[d,n("a",k,[b,t(a)])]),m,n("ul",null,[n("li",null,[n("a",g,[h,t(a)])]),n("li",null,[n("a",q,[y,t(a)])]),n("li",null,[n("a",_,[v,t(a)])]),n("li",null,[n("a",x,[w,t(a)])])])],64)}var M=e(i,[["render",f],["__file","db_operation.html.vue"]]);export{M as default};
