import{_ as e,r as p,o,c as l,a as n,b as s,d as i,e as a}from"./app-a06a2d51.js";const c={},u=a('<h1 id="å¼€å§‹ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#å¼€å§‹ä½¿ç”¨" aria-hidden="true">#</a> å¼€å§‹ä½¿ç”¨</h1><h3 id="å‰è¨€" tabindex="-1"><a class="header-anchor" href="#å‰è¨€" aria-hidden="true">#</a> å‰è¨€</h3><p>seldom éå¸¸é€‚åˆä¸ªäººæ¥å£è‡ªåŠ¨åŒ–é¡¹ç›®ï¼Œå®ƒæœ‰ä»¥ä¸‹ä¼˜åŠ¿ã€‚</p><ul><li>å¯ä»¥å†™æ›´å°‘çš„ä»£ç </li><li>æä¾›è¯¦ç»†çš„è¿è¡Œæ—¥å¿—</li><li>æä¾›ä¸“é—¨ä¸ºæ¥å£è®¾è®¡çš„æ–­è¨€</li><li>å¼ºå¤§çš„æ•°æ®é©±åŠ¨</li><li>è‡ªåŠ¨ç”ŸæˆHTML/XMLæµ‹è¯•æŠ¥å‘Š</li><li>æ”¯æŒç”Ÿæˆéšæœºæ•°æ®</li><li>æ”¯æŒ<code>har</code>/<code>swagger</code>æ–‡ä»¶è½¬case</li><li>æ”¯æŒæ•°æ®åº“æ“ä½œ</li></ul><p>è¿™äº›æ˜¯seldomæ”¯æŒçš„åŠŸèƒ½ï¼Œæˆ‘ä»¬åªéœ€è¦é›†æˆHTTPæ¥å£åº“ï¼Œå¹¶æä¾›å¼ºå¤§çš„æ–­è¨€å³å¯ã€‚<code>seldom 2.0</code> åŠ å…¥äº†HTTPæ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•æ”¯æŒã€‚</p>',5),r={href:"https://docs.python-requests.org/en/master/",target:"_blank",rel:"noopener noreferrer"},d=a(`<table><thead><tr><th>seldom</th><th>requests</th></tr></thead><tbody><tr><td>self.get()</td><td>requests.get()</td></tr><tr><td>self.post()</td><td>requests.post()</td></tr><tr><td>self.put()</td><td>requests.put()</td></tr><tr><td>self.delete()</td><td>requests.delete()</td></tr><tr><td>self.patch()</td><td>requests.patch()</td></tr><tr><td>self.session()</td><td>requests.session()</td></tr></tbody></table><h3 id="seldom-vs-request-unittest" tabindex="-1"><a class="header-anchor" href="#seldom-vs-request-unittest" aria-hidden="true">#</a> Seldom VS Request+unittest</h3><ul><li>unittest + requests æ¥å£è‡ªåŠ¨åŒ–ç¤ºä¾‹ï¼š</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> unittest
<span class="token keyword">import</span> requests


<span class="token keyword">class</span> <span class="token class-name">TestAPI</span><span class="token punctuation">(</span>unittest<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">test_get_method</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        payload <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;key1&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;value1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;key2&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;value2&#39;</span><span class="token punctuation">}</span>
        r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://httpbin.org/get&quot;</span><span class="token punctuation">,</span> params<span class="token operator">=</span>payload<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertEqual<span class="token punctuation">(</span>r<span class="token punctuation">.</span>status_code<span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    unittest<span class="token punctuation">.</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>seldom æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•ç¤ºä¾‹ï¼š</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># test_req.py</span>
<span class="token keyword">import</span> seldom


<span class="token keyword">class</span> <span class="token class-name">TestAPI</span><span class="token punctuation">(</span>seldom<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">test_get_method</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        payload <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;key1&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;value1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;key2&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;value2&#39;</span><span class="token punctuation">}</span>
        self<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;http://httpbin.org/get&quot;</span><span class="token punctuation">,</span> params<span class="token operator">=</span>payload<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>assertStatusCode<span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    seldom<span class="token punctuation">.</span>main<span class="token punctuation">(</span>debug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸»è¦ç®€åŒ–ç‚¹åœ¨ï¼Œæ¥å£çš„è¿”å›æ•°æ®çš„å¤„ç†ã€‚å½“ç„¶ï¼ŒseldomçœŸæ­£çš„ä¼˜åŠ¿åœ¨æ–­è¨€ã€æ—¥å¿—å’ŒæŠ¥å‘Šã€‚</p><h3 id="è¿è¡Œæµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#è¿è¡Œæµ‹è¯•" aria-hidden="true">#</a> è¿è¡Œæµ‹è¯•</h3><p>æ‰“å¼€debugæ¨¡å¼<code>seldom.run(debug=True)</code> è¿è¡Œä¸Šé¢çš„ç”¨ä¾‹ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>
<span class="token operator">&gt;</span> python test_req.py

              __    __
   ________  / /___/ /___  ____ ____
  / ___/ _ <span class="token punctuation">\\</span>/ / __  / __ <span class="token punctuation">\\</span>/ __ \` ___/
 <span class="token punctuation">(</span>__  <span class="token punctuation">)</span>  __/ / /_/ / /_/ / / / / / /
/____/<span class="token punctuation">\\</span>___/_/<span class="token punctuation">\\</span>__,_/<span class="token punctuation">\\</span>____/_/ /_/ /_/  v3.x.x
-----------------------------------------
                             @itest.info

test_get_method <span class="token punctuation">(</span>test_req.TestAPI<span class="token punctuation">)</span> <span class="token punctuation">..</span>. <span class="token number">2023</span>-02-14 <span class="token number">23</span>:37:07 request.py <span class="token operator">|</span> INFO <span class="token operator">|</span>
-------------- Request -----------------<span class="token punctuation">[</span>ğŸš€<span class="token punctuation">]</span>
<span class="token number">2023</span>-02-14 <span class="token number">23</span>:37:07 request.py <span class="token operator">|</span> INFO <span class="token operator">|</span> <span class="token punctuation">[</span>method<span class="token punctuation">]</span>: GET      <span class="token punctuation">[</span>url<span class="token punctuation">]</span>: http://httpbin.org/get
<span class="token number">2023</span>-02-14 <span class="token number">23</span>:37:07 request.py <span class="token operator">|</span> DEBUG <span class="token operator">|</span> <span class="token punctuation">[</span>params<span class="token punctuation">]</span>:
 <span class="token punctuation">{</span>
  <span class="token string">&quot;key1&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;value1&quot;</span>,
  <span class="token string">&quot;key2&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;value2&quot;</span>
<span class="token punctuation">}</span>
<span class="token number">2023</span>-02-14 <span class="token number">23</span>:37:08 request.py <span class="token operator">|</span> INFO <span class="token operator">|</span> -------------- Response ----------------<span class="token punctuation">[</span>ğŸ›¬ï¸<span class="token punctuation">]</span>
<span class="token number">2023</span>-02-14 <span class="token number">23</span>:37:08 request.py <span class="token operator">|</span> INFO <span class="token operator">|</span> successful with status <span class="token number">200</span>
<span class="token number">2023</span>-02-14 <span class="token number">23</span>:37:08 request.py <span class="token operator">|</span> DEBUG <span class="token operator">|</span> <span class="token punctuation">[</span>type<span class="token punctuation">]</span>: json      <span class="token punctuation">[</span>time<span class="token punctuation">]</span>: <span class="token number">0.785683</span>
<span class="token number">2023</span>-02-14 <span class="token number">23</span>:37:08 request.py <span class="token operator">|</span> DEBUG <span class="token operator">|</span> <span class="token punctuation">[</span>response<span class="token punctuation">]</span>:
 <span class="token punctuation">{</span>
  <span class="token string">&quot;args&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;key1&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;value1&quot;</span>,
    <span class="token string">&quot;key2&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;value2&quot;</span>
  <span class="token punctuation">}</span>,
  <span class="token string">&quot;headers&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;Accept&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;*/*&quot;</span>,
    <span class="token string">&quot;Accept-Encoding&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;gzip, deflate&quot;</span>,
    <span class="token string">&quot;Host&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;httpbin.org&quot;</span>,
    <span class="token string">&quot;User-Agent&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;python-requests/2.28.1&quot;</span>,
    <span class="token string">&quot;X-Amzn-Trace-Id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;Root=1-63ebaaa4-325e25be64b104e770c25f8f&quot;</span>
  <span class="token punctuation">}</span>,
  <span class="token string">&quot;origin&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;173.248.248.88&quot;</span>,
  <span class="token string">&quot;url&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;http://httpbin.org/get?key1=value1&amp;key2=value2&quot;</span>
<span class="token punctuation">}</span>
<span class="token number">2023</span>-02-14 <span class="token number">23</span>:37:08 case.py <span class="token operator">|</span> INFO <span class="token operator">|</span> ğŸ‘€ assertStatusCode -<span class="token operator">&gt;</span> <span class="token number">200</span>.
ok

----------------------------------------------------------------------
Ran <span class="token number">1</span> <span class="token builtin class-name">test</span> <span class="token keyword">in</span> <span class="token number">0</span>.795s

OK
<span class="token number">2023</span>-02-14 <span class="token number">23</span>:37:08 runner.py <span class="token operator">|</span> SUCCESS <span class="token operator">|</span> A run the <span class="token builtin class-name">test</span> <span class="token keyword">in</span> debug mode without generating HTML report<span class="token operator">!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡æ—¥å¿—/æŠ¥å‘Šéƒ½å¯ä»¥çœ‹åˆ°è¯¦ç»†çš„HTTPæ¥å£è°ƒç”¨ä¿¡æ¯ã€‚</p>`,11);function k(v,m){const t=p("ExternalLinkIcon");return o(),l("div",null,[u,n("p",null,[s("Seldom å®Œå…¨å…¼å®¹ "),n("a",r,[s("Requests"),i(t)]),s(" API å¦‚ä¸‹:")]),d])}const _=e(c,[["render",k],["__file","start.html.vue"]]);export{_ as default};
