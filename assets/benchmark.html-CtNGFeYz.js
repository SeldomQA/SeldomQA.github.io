import{_ as s,e as a,f as e,o as p}from"./app-CJFllaMF.js";const t={};function o(l,n){return p(),a("div",null,n[0]||(n[0]=[e(`<h1 id="åŸºå‡†æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#åŸºå‡†æµ‹è¯•"><span>åŸºå‡†æµ‹è¯•</span></a></h1><p>åŸºå‡†æµ‹è¯•å±äºæ€§èƒ½æµ‹è¯•çš„ä¸€ç§ï¼Œç”¨äºè¯„ä¼°å’Œè¡¡é‡è½¯ä»¶çš„æ€§èƒ½æŒ‡æ ‡ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è½¯ä»¶å¼€å‘çš„æŸä¸ªé˜¶æ®µé€šè¿‡åŸºå‡†æµ‹è¯•å»ºç«‹ä¸€ä¸ªå·²çŸ¥çš„æ€§èƒ½æ°´å¹³ï¼Œç§°ä¸º&quot; åŸºå‡†çº¿&quot;ã€‚å½“ç³»ç»Ÿçš„è½¯ç¡¬ä»¶ç¯å¢ƒå‘ç”Ÿå˜åŒ–ä¹‹åå†è¿›è¡Œä¸€æ¬¡åŸºå‡†æµ‹è¯•ä»¥ç¡®å®šé‚£äº›å˜åŒ–å¯¹æ€§èƒ½çš„å½±å“ã€‚__è¿™æ˜¯åŸºå‡†æµ‹è¯•æœ€å¸¸è§çš„ç”¨é€”ã€‚</p><p>Donald Knuthåœ¨1974å¹´å‡ºç‰ˆçš„ã€ŠStructured Programming with go to Statementsã€‹æåˆ°ï¼š</p><blockquote><p>æ¯«æ— ç–‘é—®ï¼Œå¯¹æ•ˆç‡çš„ç‰‡é¢è¿½æ±‚ä¼šå¯¼è‡´å„ç§æ»¥ç”¨ã€‚ç¨‹åºå‘˜ä¼šæµªè´¹å¤§é‡çš„æ—¶é—´åœ¨éå…³é”®ç¨‹åºçš„é€Ÿåº¦ä¸Šï¼Œå®é™…ä¸Šè¿™äº›å°è¯•æå‡æ•ˆç‡çš„è¡Œä¸ºåå€’å¯èƒ½äº§ç”Ÿå¾ˆå¤§çš„è´Ÿé¢å½±å“ï¼Œç‰¹åˆ«æ˜¯å½“è°ƒè¯•å’Œç»´æŠ¤çš„æ—¶å€™ã€‚æˆ‘ä»¬ä¸åº”è¯¥è¿‡åº¦çº ç»“äºç»†èŠ‚çš„ä¼˜åŒ–ï¼Œåº”è¯¥è¯´çº¦97%çš„åœºæ™¯ï¼šè¿‡æ—©çš„ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æºã€‚å½“ç„¶æˆ‘ä»¬ä¹Ÿä¸åº”è¯¥æ”¾å¼ƒå¯¹é‚£å…³é”®3%çš„ä¼˜åŒ–ã€‚ä¸€ä¸ªå¥½çš„ç¨‹åºå‘˜ä¸ä¼šå› ä¸ºè¿™ä¸ªæ¯”ä¾‹å°å°±è£¹è¶³ä¸å‰ï¼Œä»–ä»¬ä¼šæ˜æ™ºåœ°è§‚å¯Ÿå’Œè¯†åˆ«å“ªäº›æ˜¯å…³é”®çš„ä»£ç ï¼›ä½†æ˜¯ä»…å½“å…³é”®ä»£ç å·²ç»è¢«ç¡®è®¤çš„å‰æä¸‹æ‰ä¼šè¿›è¡Œä¼˜åŒ–ã€‚å¯¹äºå¾ˆå¤šç¨‹åºå‘˜æ¥è¯´ï¼Œåˆ¤æ–­å“ªéƒ¨åˆ†æ˜¯å…³é”®çš„æ€§èƒ½ç“¶é¢ˆï¼Œæ˜¯å¾ˆå®¹æ˜“çŠ¯ç»éªŒä¸Šçš„é”™è¯¯çš„ï¼Œå› æ­¤ä¸€èˆ¬åº”è¯¥å€ŸåŠ©æµ‹é‡å·¥å…·æ¥è¯æ˜ã€‚</p></blockquote><p>è™½ç„¶ç»å¸¸è¢«è§£è¯»ä¸ºä¸éœ€è¦å…³å¿ƒæ€§èƒ½ï¼Œä½†æ˜¯çš„å°‘éƒ¨åˆ†æƒ…å†µä¸‹ï¼ˆ3%ï¼‰åº”è¯¥è§‚å¯Ÿå’Œè¯†åˆ«å…³é”®ä»£ç å¹¶è¿›è¡Œä¼˜åŒ–ã€‚</p><h2 id="è¿›è¡ŒåŸºå‡†æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#è¿›è¡ŒåŸºå‡†æµ‹è¯•"><span>è¿›è¡ŒåŸºå‡†æµ‹è¯•</span></a></h2><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œéœ€è¦è¿›è¡Œï¼Œseldom æä¾›äº†åŸºå‡†æµ‹è¯•çš„åŠŸèƒ½ã€‚</p><p><strong>ç¤ºä¾‹</strong></p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">import</span> time</span>
<span class="line"><span class="token keyword">import</span> seldom</span>
<span class="line"><span class="token keyword">from</span> seldom<span class="token punctuation">.</span>testdata <span class="token keyword">import</span> get_int</span>
<span class="line"><span class="token keyword">from</span> seldom<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>benchmark <span class="token keyword">import</span> benchmark_test</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">MyTests</span><span class="token punctuation">(</span>seldom<span class="token punctuation">.</span>TestCase<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line"></span>
<span class="line">    <span class="token decorator annotation punctuation">@benchmark_test</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">test_something_performance_1</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;</span>
<span class="line">        something code performance</span>
<span class="line">        &quot;&quot;&quot;</span></span>
<span class="line">        num <span class="token operator">=</span> get_int<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span></span>
<span class="line">        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>num<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token decorator annotation punctuation">@benchmark_test</span><span class="token punctuation">(</span>rounds<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> iterations<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">test_something_performance_2</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;</span>
<span class="line">        something code performance</span>
<span class="line">        &quot;&quot;&quot;</span></span>
<span class="line">        num <span class="token operator">=</span> get_int<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span></span>
<span class="line">        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>num<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token decorator annotation punctuation">@benchmark_test</span><span class="token punctuation">(</span>rounds<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">test_http_performance</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token triple-quoted-string string">&quot;&quot;&quot;</span>
<span class="line">        test http benchmark</span>
<span class="line">        &quot;&quot;&quot;</span></span>
<span class="line">        self<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;https://httpbin.org/get&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        self<span class="token punctuation">.</span>assertStatusOk<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span></span>
<span class="line">    seldom<span class="token punctuation">.</span>main<span class="token punctuation">(</span>benchmark<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œç»“æœï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token operator">&gt;</span> python test_benchmark.py</span>
<span class="line"></span>
<span class="line"><span class="token punctuation">..</span>.</span>
<span class="line"></span>
<span class="line"><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span> benchmark: <span class="token number">3</span> tests <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span></span>
<span class="line">Name <span class="token punctuation">(</span>time <span class="token keyword">in</span> s<span class="token punctuation">)</span>             Min     Max    Mean  StdDev  Median     IQR  Outliers     OPS  Rounds  Iterations</span>
<span class="line">--------------------------------------------------------------------------------------------------------------</span>
<span class="line">test_http_performance  <span class="token number">0.9126</span>  <span class="token number">3.0273</span>  <span class="token number">1.3924</span>  <span class="token number">0.5931</span>  <span class="token number">1.2281</span>  <span class="token number">0.5033</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token number">9</span>         <span class="token number">0.7182</span>      <span class="token number">10</span>          <span class="token number">1</span></span>
<span class="line">test_something_performance_1  <span class="token number">0.1354</span>  <span class="token number">1.8026</span>  <span class="token number">0.7440</span>  <span class="token number">0.6109</span>  <span class="token number">0.5856</span>  <span class="token number">0.7842</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token number">4</span>         <span class="token number">1.3441</span>       <span class="token number">5</span>          <span class="token number">1</span></span>
<span class="line">test_something_performance_2  <span class="token number">0.6498</span>  <span class="token number">1.8315</span>  <span class="token number">1.1404</span>  <span class="token number">0.4289</span>  <span class="token number">1.0993</span>  <span class="token number">0.7592</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token number">5</span>         <span class="token number">0.8769</span>      <span class="token number">10</span>          <span class="token number">2</span></span>
<span class="line">--------------------------------------------------------------------------------------------------------------</span>
<span class="line">Legend:</span>
<span class="line">  Outliers: <span class="token number">1</span> Standard Deviation from Mean<span class="token punctuation">;</span> <span class="token number">1.5</span> IQR <span class="token punctuation">(</span>InterQuartile Range<span class="token punctuation">)</span> from 1st Quartile and 3rd Quartile.</span>
<span class="line">  OPS: Operations Per Second, computed as <span class="token number">1</span> / Mean</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è¯´æ˜</strong></p><ul><li><p><code>@benchmark_test()</code>: åŸºå‡†æµ‹è¯•è£…é¥°å™¨ï¼š</p><ul><li><code>rounds</code>: è¿è¡ŒåŸºå‡†æµ‹è¯•çš„è½®æ•°ï¼Œé»˜è®¤å‚æ•°ä¸º<code>5</code>ã€‚</li><li><code>iterations</code>: æ¯è½®è°ƒç”¨å‡½æ•°çš„æ¬¡æ•°ï¼Œé»˜è®¤å‚æ•°ä¸º <code>1</code>ã€‚</li></ul></li><li><p><code>main()</code>è¿è¡Œæ–¹æ³•ä¸­ï¼Œ<code>branch</code>å‚æ•°å¿…é¡»è®¾ç½®ä¸º<code>True</code>ï¼Œä¸”ä¸æ”¯æŒç”ŸæˆHTMLæŠ¥å‘Šã€‚</p></li><li><p>åŸºå‡†æµ‹è¯•ç»“æœè¯´æ˜</p><ul><li><code>Min</code>: æœ€å°æ‰§è¡Œæ—¶é—´ï¼Œå•ä½ä¸ºç§’sã€‚</li><li><code>Max</code>: æœ€å¤§æ‰§è¡Œæ—¶é—´ï¼Œå•ä½ä¸ºç§’sã€‚</li><li><code>Minean</code>: è¯¥æµ‹è¯•è¿è¡Œè¿‡ç¨‹ä¸­çš„å¹³å‡æ‰§è¡Œæ—¶é—´ï¼Œå•ä½ä¸ºç§’sã€‚</li><li><code>StdDev</code>: æ ‡å‡†å·®ï¼Œè¡¨ç¤ºæµ‹è¯•æ‰§è¡Œæ—¶é—´çš„ç¦»æ•£ç¨‹åº¦æˆ–æ³¢åŠ¨æ€§ã€‚è¾ƒå¤§çš„æ ‡å‡†å·®æ„å‘³ç€æµ‹è¯•ç»“æœæ³¢åŠ¨è¾ƒå¤§ã€‚ã€‚</li><li><code>Median</code>: ä¸­ä½æ•°ï¼Œè¡¨ç¤ºæ’åºåæ‰€æœ‰æ‰§è¡Œæ—¶é—´çš„ä¸­é—´å€¼ã€‚å®ƒç”¨äºè¡¡é‡æ•°æ®çš„é›†ä¸­è¶‹åŠ¿ï¼Œé¿å…æç«¯å€¼ï¼ˆå¦‚æœ€å¤§æˆ–æœ€å°å€¼ï¼‰å½±å“ç»“æœã€‚</li><li><code>IQR</code>: å››åˆ†ä½è·ï¼Œè¡¨ç¤ºç¬¬ 75 ç™¾åˆ†ä½æ•°å’Œç¬¬ 25 ç™¾åˆ†ä½æ•°ä¹‹é—´çš„å·®è·ã€‚å®ƒåæ˜ äº†æ•°æ®çš„åˆ†å¸ƒèŒƒå›´ã€‚</li><li><code>Outliers</code>: å¼‚å¸¸å€¼çš„æ•°é‡ï¼Œä»¥åŠéå¼‚å¸¸å€¼çš„æ•°é‡ã€‚å¼‚å¸¸å€¼çš„å®šä¹‰é€šå¸¸æ˜¯è·ç¦»å‡å€¼è¶…è¿‡ 1 ä¸ªæ ‡å‡†å·®ï¼Œæˆ–è€…è·ç¦»ç¬¬ä¸€å››åˆ†ä½æ•°å’Œç¬¬ä¸‰å››åˆ†ä½æ•°è¶…è¿‡ 1.5 å€ IQRã€‚</li><li><code>OPS</code>: æ¯ç§’æ“ä½œæ•°ï¼Œè®¡ç®—å…¬å¼æ˜¯ 1 / Meanã€‚å®ƒè¡¡é‡æ¯ç§’èƒ½å¤Ÿæ‰§è¡Œçš„æ“ä½œæ¬¡æ•°ï¼Œè¶Šé«˜ä»£è¡¨æ€§èƒ½è¶Šå¥½ã€‚</li><li><code>Rounds</code>: è¿è¡ŒåŸºå‡†æµ‹è¯•çš„è½®æ•°ï¼Œé»˜è®¤å‚æ•°ä¸º<code>5</code>ã€‚</li><li><code>Iterations</code>: æ¯è½®è°ƒç”¨å‡½æ•°çš„æ¬¡æ•°ï¼Œé»˜è®¤å‚æ•°ä¸º <code>1</code>ã€‚</li></ul></li></ul>`,13)]))}const i=s(t,[["render",o],["__file","benchmark.html.vue"]]),r=JSON.parse('{"path":"/more-ability/benchmark.html","title":"åŸºå‡†æµ‹è¯•","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"è¿›è¡ŒåŸºå‡†æµ‹è¯•","slug":"è¿›è¡ŒåŸºå‡†æµ‹è¯•","link":"#è¿›è¡ŒåŸºå‡†æµ‹è¯•","children":[]}],"git":{"updatedTime":1736177823000,"contributors":[{"name":"defnngj","username":"defnngj","email":"defnngj@gmail.com","commits":1,"url":"https://github.com/defnngj"}],"changelog":[{"hash":"d488c7463a8c90c519024fdfbc834aaff4434b45","time":1736177823000,"email":"defnngj@gmail.com","author":"defnngj","message":"ğŸ“ benchmark test doc"}]},"filePathRelative":"more-ability/benchmark.md"}');export{i as comp,r as data};
